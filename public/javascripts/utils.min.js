function getTable(t,e){$(e.target).dataTable({destroy:!0,searching:!1,info:!1,stateSave:!0,paging:!1,data:t,order:[0,"asc"],columns:e.columns,drawCallback:function(t){$("table").on("click",function(t){var n;if("I"===t.target.nodeName?(t.target.className.indexOf("info")!==-1&&showInfo(t.target),n=$(t.target).closest("div")):"DIV"===t.target.nodeName&&(n=$(t.target)),n&&(n.attr("data-fileId")||n.attr("data-fileName"))){window.open(e.url+(n.attr("data-fileId")||n.attr("data-fileName")))}}),$("table").on("keypress",function(t){13!==t.which&&32!==t.which||(t.preventDefault(),$(t.target).trigger("click"))}),$(".downloadSrc").popup()}})}function filterByLp(t,e){if(e){var n=e.substring(0,2),i=e.substring(2);return t.filter(function(t){if(t.source&&t.target)return t.source.language===n&&t.target.language===i})}return t}function setDropdownContent(t){$.get("/getLanguagePairs?restricted=true").done(function(e){var n=e.data.sort(function(t,e){return c2l[t.src]+c2l[t.tgt]>c2l[e.src]+c2l[e.tgt]?1:-1}).map(function(e){var n="";return t||e.src+e.tgt!==defaultLP||(n=" active",$("#languagePairs .text").text(c2l[e.src]+" - "+c2l[e.tgt])),['<div class="item',n,'" data-value="',e.src,e.tgt,'">',c2l[e.src]," - ",c2l[e.tgt],"</div>"].join("")});if(t){var i="Any language pair";n.unshift('<div class="active item" data-value="">'+i+"</div>"),$("#languagePairs .text").text(i)}$("#languagePairs .menu").html(n.join(""))}).fail(function(t){flash("error",t),console.log(t.statusText,t)})}function getLanguagePair(){return $("#languagePairs").dropdown("get value")||defaultLP}function getConstraint(){return $("#constraint").dropdown("get value")||"Yes"}function setTestFileDropdownContent(t){var e=t.substring(0,2),n=t.substring(2);$.get("/getTestSets?src="+e+"&tgt="+n).done(function(t){$("#testFile .menu").html(t.data.map(function(t,e){var n="";return e++,1===e&&(n=" active",$("#testFile .text").text(e+" - "+t.source.fileName),$('#testFile input[name="testSet"]').val(t._id)),['<div class="item',n,'" data-value="',t._id,'">',e," - ",t.source.fileName,"</div>"].join("")}).join(""))}).fail(function(t){flash("error",t),console.log(t.statusText,t)})}function click2copy(t,e){e=e||t,$("#"+t).on("click",function(){var t;document.selection?(t=document.body.createTextRange(),t.moveToElementText(document.getElementById(e)),t.select().createTextRange(),document.execCommand("Copy")):window.getSelection&&(window.getSelection().removeAllRanges(),t=document.createRange(),t.selectNode(document.getElementById(e)),window.getSelection().addRange(t),document.execCommand("Copy"))})}function showInfo(t){function e(){var t=trainingSets.filter(function(t){return t._id===n})[0].licenses;o.find(".content .header").text(i),o.find(".content .description").text(a),o.find(".extra.content .description").html(getCorpusInfo(t)),o.transition({duration:500,animation:s.show})}var n=t.getAttribute("data-fileId"),i=$($(t).closest("tr").find("td.languagePair")[0]).text(),a=$($(t).closest("tr").find("td.fileName")[0]).text(),s={show:"slide right",hide:"slide left"},o=$(".info.card");o.is(":visible")?o.transition({duration:250,animation:s.hide,onComplete:function(){e()}}):e()}function getCorpusInfo(t){if(t.length>0){var e=[];return e.push('<div class="ui list">'),t.forEach(function(t){e.push('<div class="item">'),e.push('<i class="text file outline icon"></i>'),e.push('<div class="content">'),e.push('<div class="header">'+t.fileName+"</div>"),e.push('<div class="description">'),e.push('<div class="ui list">'),e.push("Licence: "),t.license.match(/http/)&&(t.license=t.license.replace(/(.*)\((.*)\)/,'<a href="$2">$1</a>')),e.push(t.license),e.push("</div>"),e.push('<div class="ui list">'),e.push("References: "),t.references.forEach(function(t){e.push('<div class="item">'),t.match(/^http/)?(t='<a href="'+t+'">'+t+"</a>",e.push(t)):e.push(t),e.push("</div>")}),e.push("</div>"),e.push("</div>"),e.push("</div>"),e.push("</div>")}),e.push("</div>"),e.join("")}return'<div class="center aligned">No description</div>'}