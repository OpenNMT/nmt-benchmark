function getTable(t){var a={};t&&(a={sourceLanguage:t.substring(0,2),targetLanguage:t.substring(2)}),$.get("/getDataTable",a).done(function(t){var a=[{data:"user",sDefaultContent:"",render:function(t,a,e){if(t)return'<a href="/userSystems/'+t.githubId+'"><img class="ui avatar image" src="'+t.avatarURL+'" alt="'+t.name+'"/><span class="userName">'+t.name+"</span></a>"}},{data:"systemName",className:"systemName",sDefaultContent:"",render:function(t,a,e){if(t)return'<a href="/translationSystem/view/'+e._id+'">'+t+"</a>"}},{data:"constraint",sDefaultContent:"",render:function(t,a,e){return t?"Internal":"Custom"}},{data:"date",sDefaultContent:"",render:function(t,a,e){if(t){var n=new Date(t);return n.toLocaleDateString()}}},{data:"scores",className:"scores",sDefaultContent:"",render:function(t,a,e){var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push('<div class="testFile id_'+i+'">'+t[i].BLEU+"</div>");return n.join("")}}];$("#mainTable table").DataTable({destroy:!0,searching:!1,info:!1,stateSave:!0,pagingType:"full_numbers",dom:"ftp",sAjaxDataProp:"",order:[[2,"desc"]],data:t.data,columns:a,drawCallback:function(t){$(".pagination.menu").addClass("floated right"),$("i.toggle.icon").popup(),swapScores($('input[name="testSet"]').val())}})}).fail(function(t){flash("error",t),console.log(t.statusText,t)})}function swapScores(t){function a(t){var a=$(".scores .id_"+t);a.transition({duration:e.duration.show,animation:e.animation.show})}var e={animation:{show:"fade left",hide:"fade right"},duration:{show:750,hide:250}},n=getTestFileId(),i=$(".scores .testFile:visible"),o=0;i.length?$.each(i,function(){$(this).transition({duration:e.duration.hide,animation:e.animation.hide,onComplete:function(){o++,o===i.length&&a(n)}})}):a(n)}function getTestFileId(){return $('input[name="testSet"]').val()||""}$(document).ready(function(){$(".ui.dropdown").dropdown(),$("#languagePairs .menu").text(defaultLP),setDropdownContent("include Any language pair"),setTestFileDropdownContent(getLanguagePair()),$("#languagePairs").dropdown({onChange:function(t,a){getTable(getLanguagePair())}}),$("#testFile").dropdown({onChange:function(t,a){swapScores(t)}}),$("#addSystemButton").on("click",function(){$('#addSystemForm input[name="languagePair"]').val(getLanguagePair()),$("#addSystemForm").submit()}),$("#addSystemButton").on("keypress",function(t){13!==t.which&&32!==t.which||(t.preventDefault(),$(t.target).trigger("click"))}),getTable()});