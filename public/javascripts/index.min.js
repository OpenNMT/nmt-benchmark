function getTable(a){var e={sourceLanguage:a.substring(0,2),targetLanguage:a.substring(2)};$.get("/getDataTable",e).done(function(a){var e=[{data:"user",sDefaultContent:"",render:function(a,e,t){if(a)return'<a href="/userSystems/'+a.githubId+'"><img class="ui avatar image" src="'+a.avatarURL+'" alt="'+a.name+'"/><span class="userName">'+a.name+"</span></a>"}},{data:"systemName",className:"systemName",sDefaultContent:"",render:function(a,e,t){if(a)return'<a href="/translationSystem/view/'+t._id+'">'+a+"</a>"}},{data:"date",sDefaultContent:"",render:function(a,e,t){if(a){var n=new Date(a);return n.toLocaleDateString()}}},{data:"scores",sDefaultContent:"",render:function(a,e,t){if(Object.keys(a).length>0)return a.BLEU}}];$("#mainTable table").DataTable({destroy:!0,searching:!1,info:!1,stateSave:!0,pagingType:"full_numbers",dom:"ftp",sAjaxDataProp:"",order:[[2,"desc"]],data:a.data,columns:e,drawCallback:function(a){$(".pagination.menu").addClass("floated right")}})}).fail(function(a){flash("error",a),console.log(a.statusText,a)})}function getLanguagePair(){return $("#languagePairs").dropdown("get value")||defaultLP}$(document).ready(function(){$(".ui.dropdown").dropdown(),$("#languagePairs .menu").text(defaultLP),$("#languagePairs .menu").html(languagePairs.map(function(a){var e="";return a.sourceLanguage+a.targetLanguage===getLanguagePair()&&(e=" active",$("#languagePairs .text").text(c2l[a.sourceLanguage]+" - "+c2l[a.targetLanguage])),['<div class="item',e,'" data-value="',a.sourceLanguage,a.targetLanguage,'">',c2l[a.sourceLanguage]," - ",c2l[a.targetLanguage],"</div>"].join("")}).join("")),$("#languagePairs").dropdown({onChange:function(a,e){getTable(getLanguagePair())}}),$("#addSystemButton").on("click",function(){$('#addSystemForm input[name="languagePair"]').val(getLanguagePair()),$("#addSystemForm").submit()}),$("#addSystemButton").on("keypress",function(a){13!==a.which&&32!==a.which||(a.preventDefault(),$(a.target).trigger("click"))}),getTable(getLanguagePair())});