function getTable(a){var t={sourceLanguage:a.substring(0,2),targetLanguage:a.substring(2)};$.get("/getDataTable",t).done(function(a){var t=[{data:"user",sDefaultContent:"",render:function(a,t,e){if(a)return'<a href="/userSystems/'+a.githubId+'"><img class="ui avatar image" src="'+a.avatarURL+'" alt="'+a.name+'"/><span class="userName">'+a.name+"</span></a>"}},{data:"systemName",className:"systemName",sDefaultContent:"",render:function(a,t,e){if(a)return'<a href="/translationSystem/view/'+e._id+'">'+a+"</a>"}},{data:"date",sDefaultContent:"",render:function(a,t,e){if(a){var n=new Date(a);return n.toLocaleDateString()}}},{data:"scores",sDefaultContent:"",render:function(a,t,e){if(Object.keys(a).length>0)return a.BLEU}}];$("#mainTable table").DataTable({destroy:!0,searching:!1,info:!1,stateSave:!0,pagingType:"full_numbers",dom:"ftp",sAjaxDataProp:"",order:[[2,"desc"]],data:a.data,columns:t,drawCallback:function(a){$(".pagination.menu").addClass("floated right")}})}).fail(function(a){flash("error",a),console.log(a.statusText,a)})}function getLanguagePair(){return $("#languagePairs").dropdown("get value")||defaultLP}function getDropdownContent(){$.get("/getLanguagePairs").done(function(a){$("#languagePairs .menu").html(a.data.map(function(a){var t="";return a.src+a.tgt===getLanguagePair()&&(t=" active",$("#languagePairs .text").text(c2l[a.src]+" - "+c2l[a.tgt])),['<div class="item',t,'" data-value="',a.src,a.tgt,'">',c2l[a.src]," - ",c2l[a.tgt],"</div>"].join("")}).join(""))}).fail(function(a){flash("error",a),console.log(a.statusText,a)})}$(document).ready(function(){$(".ui.dropdown").dropdown(),$("#languagePairs .menu").text(defaultLP),getDropdownContent(),$("#languagePairs").dropdown({onChange:function(a,t){getTable(getLanguagePair())}}),$("#addSystemButton").on("click",function(){$('#addSystemForm input[name="languagePair"]').val(getLanguagePair()),$("#addSystemForm").submit()}),$("#addSystemButton").on("keypress",function(a){13!==a.which&&32!==a.which||(a.preventDefault(),$(a.target).trigger("click"))}),getTable(getLanguagePair())});