function flash(n,t){function i(n,t){var i=$(".alert").find("."+n);t?(i.find(".content").html(t),i.transition({duration:trans.duration.show,animation:trans.animation.show})):i.find(".content").empty()}var e=$(".alert .message:visible"),a=0;e.length?$.each(e,function(){$(this).transition({duration:trans.duration.hide,animation:trans.animation.hide,onComplete:function(){a++,a===e.length&&i(n,t)}})}):i(n,t)}var trans={animation:{show:"slide down",hide:"slide up"},duration:{show:750,hide:250}};$(document).ready(function(){$(".message .close.icon").on("click",function(){var n=$(this).closest(".message");n.transition({duration:"1s",animation:"slide down",onComplete:function(){n.find(".content").empty()}})}),$(".message .close.icon").on("keypress",function(n){13!==n.which&&32!==n.which||(n.preventDefault(),$(n.target).trigger("click"))});for(var n in messages)messages.hasOwnProperty(n)&&flash(n,messages[n])});